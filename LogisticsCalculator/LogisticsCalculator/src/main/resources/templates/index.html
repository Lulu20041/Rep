<!DOCTYPE html>
<html lang="en" xmlns:th="">
<head>
    <meta charset="UTF-8">
    <title>Расчёт грузоперевозки</title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=61a714f5-49b4-4380-8214-5793b2af711d&lang=ru_RU"
            type="text/javascript"></script>
</head>
<body>
    <div id="map" style="width:600px; height:400px"></div>
    <script>
        function init(){
            const myMap = new ymaps.Map("map", {
                center: [53.9, 27.64],
                zoom: 9,
                controls: ['routePanelControl']
            });

            const control = myMap.controls.get('routePanelControl');

            const multiRoutePromise = control.routePanel.getRouteAsync();

            multiRoutePromise.then(function(multiRoute) {
                // Подписка на событие обновления мультимаршрута.
                multiRoute.model.events.add('requestsuccess', function() {
                    // Получение ссылки на активный маршрут.
                    const activeRoute = multiRoute.getActiveRoute();
                    // Когда панель добавляется на карту, она
                    // создает маршрут с изначально пустой геометрией.
                    // Только когда пользователь выберет начальную и конечную точки,
                    // маршрут будет перестроен с непустой геометрией.
                    // Поэтому для избежания ошибки нужно добавить проверку,
                    // что маршрут не пустой.
                    if (activeRoute) {
                        // Вывод информации об активном маршруте.
                        console.log("Длина: " + activeRoute.properties.get("distance").text);
                        console.log("Время прохождения: " + activeRoute.properties.get("duration").text);
                    }
                });
            }, function (err) {
                console.log(err);
            });
        }

        ymaps.ready(init);
    </script>
</body>
</html>